<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Python Cheatsheet - Wiki &bull; Phixyn</title>
    <meta name="keywords" content="personal, wiki, stuff"/>
    <meta name="description" content="Phixyn's Personal Wiki \o/"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/">Wiki &bull; Phixyn</a>
    &nbsp;&#187;&nbsp;
    <a href="/#programming">programming</a>
    &nbsp;&#187;&nbsp;Python Cheatsheet
    <span class="updated">Updated&nbsp;
    2020-01-20 22:11
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <h1 id="python-cheatsheet">Python Cheatsheet</h1>
<ul>
<li><a href="#extended-slices">Extended Slices</a></li>
<li><a href="#argparse">Argparse</a></li>
<li><a href="#basic-setup">Basic Setup</a></li>
<li><a href="#optional-arguments">Optional Arguments</a></li>
<li><a href="#multiple-values-with-nargs">Multiple Values With <code>nargs</code></a></li>
<li><a href="#type-metavar-and-dest">Type, Metavar and Dest</a></li>
<li><a href="#display-version">Display Version</a></li>
<li><a href="#logging">Logging</a></li>
<li><a href="#basic-logger-setup">Basic Logger Setup</a></li>
<li><a href="#logging-handlers">Logging Handlers</a></li>
</ul>
<hr />
<h2 id="extended-slices">Extended Slices</h2>
<div class="hlcode"><pre><span class="n">myList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">myList</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>     <span class="c"># [0, 2, 4, 6, 8]</span>
</pre></div>


<p>Equivalent to <code>myList[0:10:2]</code>.</p>
<div class="hlcode"><pre><span class="n">myList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">myList</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>    <span class="c"># [9, 8, 7, 6, 5, 4, 3, 2, 1]</span>
</pre></div>


<p>Equivalent to <code>myList[10:0:-1]</code>.</p>
<div class="hlcode"><pre><span class="k">def</span> <span class="nf">isPalindrome</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">word</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">word</span>

<span class="n">isPalindrome</span><span class="p">(</span><span class="s">&quot;noon&quot;</span><span class="p">)</span> <span class="c"># True</span>
<span class="n">isPalindrome</span><span class="p">(</span><span class="s">&quot;zoey&quot;</span><span class="p">)</span> <span class="c"># False</span>
</pre></div>


<p>Simple function to check if word is a <a href="https://en.wikipedia.org/wiki/Palindrome">palindrome</a>.</p>
<h2 id="argparse">Argparse</h2>
<h3 id="basic-setup">Basic Setup</h3>
<div class="hlcode"><pre><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s">&quot;Program description.&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;pos_arg&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&quot;Positional argument.&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;--foo&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&quot;Optional argument.&quot;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">())</span>
<span class="n">args</span><span class="p">[</span><span class="s">&quot;pos_arg&quot;</span><span class="p">]</span>
<span class="n">args</span><span class="p">[</span><span class="s">&quot;foo&quot;</span><span class="p">]</span>
</pre></div>


<p>Basic setup where <code>pos_arg</code> is a required positional argument and <code>-f</code> or <code>--foo</code> are optional arguments.</p>
<h3 id="optional-arguments">Optional Arguments</h3>
<div class="hlcode"><pre><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;-o&quot;</span><span class="p">,</span> <span class="s">&quot;--optional&quot;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="s">&quot;store&quot;</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="s">&quot;foo&quot;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s">&quot;Optional argument with default value.&quot;</span><span class="p">)</span>
</pre></div>


<p>Adds an optional argument with a default value of <code>foo</code>.</p>
<div class="hlcode"><pre><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;-t&quot;</span><span class="p">,</span> <span class="s">&quot;--transpose&quot;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="s">&quot;store_true&quot;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s">&quot;Optional True argument.&quot;</span><span class="p">)</span>
</pre></div>


<p>Adds an optional argument with a default value of <code>False</code>. If this argument is used, the value will be set to <code>True</code>.</p>
<p><em>See also: <a href="https://docs.python.org/3/library/argparse.html#action">Argparse action</a>.</em></p>
<h3 id="multiple-values-with-nargs">Multiple Values With <code>nargs</code></h3>
<div class="hlcode"><pre><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;keys&quot;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="s">&quot;store&quot;</span><span class="p">,</span>
                    <span class="n">nargs</span><span class="o">=</span><span class="s">&quot;+&quot;</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&quot;Positional list argument&quot;</span><span class="p">)</span>
</pre></div>


<p>All of the values present in this argument will be stored into a list.</p>
<p><em>See also: <a href="https://docs.python.org/3/library/argparse.html#nargs">Argparse nargs</a></em>.</p>
<h3 id="type-metavar-and-dest">Type, Metavar and Dest</h3>
<div class="hlcode"><pre><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;-i&quot;</span><span class="p">,</span> <span class="s">&quot;--indent-spaces&quot;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="s">&quot;store&quot;</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
                    <span class="n">metavar</span><span class="o">=</span><span class="s">&quot;SPACES&quot;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s">&quot;Number of spaces to use for indentation (defaults to 4).&quot;</span><span class="p">)</span>
<span class="n">args</span><span class="p">[</span><span class="s">&quot;indent_spaces&quot;</span><span class="p">]</span>
</pre></div>


<p>Adds an optional argument which expects an <code>int</code> as a value. The help text will refer to the value as <code>SPACES</code> instead of <code>INDENT_SPACES</code> due to <a href="https://docs.python.org/3/library/argparse.html#metavar">metavar</a>. However, it is still accessed with <code>args["indent_spaces"]</code>, due to the default <a href="https://docs.python.org/3/library/argparse.html#dest">dest</a> value.</p>
<h3 id="display-version">Display Version</h3>
<div class="hlcode"><pre><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">&quot;-V&quot;</span><span class="p">,</span> <span class="s">&quot;--version&quot;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="s">&quot;version&quot;</span><span class="p">,</span>
                    <span class="n">version</span><span class="o">=</span><span class="s">&quot;Program Name v1.0.0&quot;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s">&quot;Displays version information and exits.&quot;</span><span class="p">)</span>
</pre></div>


<p>Adds an argument to display a version string.</p>
<h2 id="logging">Logging</h2>
<h3 id="basic-logger-setup">Basic Logger Setup</h3>
<div class="hlcode"><pre><span class="n">LOG_LEVEL</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span>

<span class="c"># Create a Formatter to specify how logging messages are displayed</span>
<span class="c"># e.g. [2017-10-20 02:28:14][INFO] Initializing...</span>
<span class="n">LOG_FORMATTER</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s">&quot;[</span><span class="si">%(asctime)s</span><span class="s">][</span><span class="si">%(levelname)s</span><span class="s">] </span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">datefmt</span><span class="o">=</span><span class="s">&quot;%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M:%S&quot;</span><span class="p">)</span>

<span class="c"># Set up logger</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">LOG_LEVEL</span><span class="p">)</span>
</pre></div>


<p>Basic logger setup. Used in combination with one or more of the handlers below.</p>
<p><em>Requirements: <code>import time</code> and <code>import logging</code>.</em></p>
<h3 id="logging-handlers">Logging Handlers</h3>
<div class="hlcode"><pre><span class="c"># Create and add logging handler for stdout (console) logging</span>
<span class="n">loggerConsoleHandler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="n">loggerConsoleHandler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">LOG_FORMATTER</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">loggerConsoleHandler</span><span class="p">)</span>
</pre></div>


<p>Logging handler used to display logging output in STDOUT.</p>
<p><em>Requirements: <code>import sys</code> and basic setup.</em></p>
<div class="hlcode"><pre><span class="n">LOGS_FOLDER_NAME</span> <span class="o">=</span> <span class="s">&quot;logs&quot;</span>
<span class="c"># Note: change os.getcwd() if you don&#39;t want a folder in the same</span>
<span class="c"># location as the script</span>
<span class="n">LOGS_FOLDER_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">LOGS_FOLDER_NAME</span><span class="p">)</span>
<span class="c"># Save log files with the project, date and time in the name</span>
<span class="c"># (e.g. Program-Name_2017-10-20_09-55.log)</span>
<span class="n">LOG_FILE_NAME</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;Program-Name_%Y-%m-</span><span class="si">%d</span><span class="s">_%H-%M.log&quot;</span><span class="p">)</span>
<span class="n">LOG_FILE_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">LOGS_FOLDER_PATH</span><span class="p">,</span> <span class="n">LOG_FILE_NAME</span><span class="p">)</span>

<span class="c"># Create logs folder if it is not present</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">LOGS_FOLDER_NAME</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">LOGS_FOLDER_NAME</span><span class="p">)</span>

<span class="c"># Create and add logging handler for file logging</span>
<span class="n">loggerFileHandler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">LOG_FILE_PATH</span><span class="p">)</span>
<span class="n">loggerFileHandler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">LOG_FORMATTER</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">loggerFileHandler</span><span class="p">)</span>
</pre></div>


<p>Logging handler used to save logging output to a file.</p>
<p><em>Requirements: <code>import os</code> and basic setup.</em></p>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2020 Phixyn.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://github.com/tankywoo/yasimple_x2" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Site Generated 2020-01-20 23:31:44</p>
      </div> <!-- end footer-right -->
    </div>

    
    
  </body>
</html>